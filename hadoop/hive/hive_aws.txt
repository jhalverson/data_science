Jonathan Halverson
Thursday, December 1, 2017

[hadoop@ip-172-31-23-160 ~]$ hive -e 'show databases;'
Logging initialized using configuration in file:/etc/hive/conf.dist/hive-log4j2.properties Async: false
OK
default
Time taken: 1.875 seconds, Fetched: 1 row(s)


[hadoop@ip-172-31-23-160 ~]$ hive -H
usage: hive
 -d,--define <key=value>          Variable subsitution to apply to hive
                                  commands. e.g. -d A=B or --define A=B
    --database <databasename>     Specify the database to use
 -e <quoted-query-string>         SQL from command line
 -f <filename>                    SQL from files
 -H,--help                        Print help information
    --hiveconf <property=value>   Use value for given property
    --hivevar <key=value>         Variable subsitution to apply to hive
                                  commands. e.g. --hivevar A=B
 -i <filename>                    Initialization SQL file
 -S,--silent                      Silent mode in interactive shell
 -v,--verbose                     Verbose mode (echo executed SQL to the
                                  console)

hadoop fs -get s3://fridaybucket/co-est2014-pop-data.csv co-est2014-pop-data.csv
hadoop fs -put s3://fridaybucket/datakitchen-workshop-pop-hive2.sql datakitchen-workshop-pop-hive2.sql
hadoop fs -put datakitchen-workshop-pop-hive2.sql datakitchen-workshop-pop-hive2.sql
hadoop fs -put co-est2014-pop-data.csv co-est2014-pop-data.csv
hive -f datakitchen-workshop-pop-hive2.sql 

The above ran and one could see the two map and reduce operations being run.

The log file was here: cat /var/log/hive/user/hadoop/hadoop.log


After running the job the table is available:
[hadoop@ip-172-31-23-160 ~]$ hive -e 'describe default.pop'

Logging initialized using configuration in file:/etc/hive/conf.dist/hive-log4j2.properties Async: false
OK
sumlev              	int                 	                    
region              	int                 	                    
division            	int                 	                    
state               	int                 	                    
county              	int                 	                    
stname              	string              	                    
ctyname             	string              	                    
census2010pop       	int                 	                    
estimatesbase2010   	int                 	                    
popestimate2010     	int                 	                    
popestimate2011     	int                 	                    
popestimate2012     	int                 	                    
popestimate2013     	int                 	                    
popestimate2014     	int                 	                    
Time taken: 2.439 seconds, Fetched: 14 row(s)

